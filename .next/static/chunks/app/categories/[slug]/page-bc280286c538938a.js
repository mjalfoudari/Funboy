(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{2570:function(e,s,t){Promise.resolve().then(t.bind(t,3440))},3440:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(7437),r=t(2265),l=t(4033),c=t(1396),i=t.n(c),n=t(6691),o=t.n(n),d=t(5651),m=t(386);let x=e=>.31*Number(e)+105.55;function g(){var e;let s=(0,l.useParams)(),[t,c]=(0,r.useState)([]),[n,g]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{async function e(){try{let e=s.slug||"";console.log("Fetching products for category: ".concat(e));let t=await fetch("/api/products?category=".concat(e));if(t.ok){let s=await t.json();if(console.log("Received ".concat(s.length," products for category ").concat(e,":"),s),c(s),s.length>0&&s[0].category)g(s[0].category);else{let s=await fetch("/api/categories?slug=".concat(e));if(s.ok){let e=await s.json();e.length>0&&g(e[0])}}}else console.error("API response not OK:",t.status)}catch(e){console.error("Error fetching category data:",e)}finally{h(!1)}}s.slug&&e()},[s.slug]),u)?(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"py-16",children:(0,a.jsxs)("div",{className:"container-custom",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[...Array(8)].map((e,s)=>(0,a.jsxs)("div",{className:"card animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-product bg-gray-200"}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-3"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]})]},s))})]})}),(0,a.jsx)(m.default,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"py-16",children:(0,a.jsxs)("div",{className:"container-custom",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(null==n?void 0:n.name)||"Category"}),(0,a.jsxs)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:[(null==n?void 0:n.description)||"Discover our ".concat((null==n?void 0:null===(e=n.name)||void 0===e?void 0:e.toLowerCase())||""," collection"),(0,a.jsx)("span",{className:"font-semibold text-funboy-blue",children:" Free shipping on all orders!"})]})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:"No products found in this category."}),(0,a.jsx)(i(),{href:"/products",className:"btn-primary inline-block mt-4",children:"Browse All Products"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Showing ",t.length," products"]}),(0,a.jsx)("p",{className:"text-sm text-green-600 font-semibold",children:"All prices include free shipping!"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(e=>{var s;return(0,a.jsx)("div",{className:"group",children:(0,a.jsx)(i(),{href:"/products/".concat(e.slug),children:(0,a.jsxs)("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:[(0,a.jsxs)("div",{className:"relative aspect-product overflow-hidden bg-gray-100",children:[e.images&&e.images.length>0?(0,a.jsx)(o(),{src:e.images[0].url,alt:e.images[0].altText||e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-400",children:"No Image"})}),e.comparePrice&&Number(e.comparePrice)>Number(e.price)&&(0,a.jsx)("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded text-sm font-semibold",children:"SALE"}),0===e.inventory&&(0,a.jsx)("div",{className:"absolute top-3 right-3 bg-gray-800 text-white px-2 py-1 rounded text-sm font-semibold",children:"SOLD OUT"}),(0,a.jsx)("div",{className:"absolute bottom-3 left-3 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"FREE SHIPPING"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 group-hover:text-funboy-blue transition-colors",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:(null===(s=e.category)||void 0===s?void 0:s.name)||"Uncategorized"}),(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:e.comparePrice&&Number(e.comparePrice)>Number(e.price)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-red-600",children:["KWD ",x(Number(e.price)).toFixed(2)]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["KWD ",x(Number(e.comparePrice)).toFixed(2)]})]}):(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["KWD ",x(Number(e.price)).toFixed(2)]})})]})]})})},e.id)})})]})]})}),(0,a.jsx)(m.default,{})]})}},4033:function(e,s,t){e.exports=t(5313)}},function(e){e.O(0,[135,415,971,938,744],function(){return e(e.s=2570)}),_N_E=e.O()}]);